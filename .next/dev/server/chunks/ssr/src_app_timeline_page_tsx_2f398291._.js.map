{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///media/viktorija/NEW_1Tb14/Projects/viktorija/wedding-planer/src/app/timeline/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, useMemo, useState } from \"react\";\nimport {\n  TimelineItem,\n  useWeddingTemplate,\n} from \"@/components/wedding-template/WeddingTemplateProvider\";\n\ntype SortMode = \"time\" | \"manual\";\n\nexport default function TimelinePage() {\n  const {\n    state: { timeline, settings },\n    addTimelineItem,\n    updateTimelineItem,\n    removeTimelineItem,\n  } = useWeddingTemplate();\n\n  const [time, setTime] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [people, setPeople] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const [sortMode, setSortMode] = useState<SortMode>(\"time\");\n  const [printMode, setPrintMode] = useState(false);\n\n  const sortedTimeline = useMemo(() => {\n    if (sortMode === \"manual\") return timeline;\n    // Very soft sort by time if it looks like HH:MM\n    const parseTime = (t: string) => {\n      const match = t.match(/^(\\d{1,2}):(\\d{2})/);\n      if (!match) return Number.POSITIVE_INFINITY;\n      const h = Number(match[1]);\n      const m = Number(match[2]);\n      return h * 60 + m;\n    };\n    return [...timeline].sort((a, b) => parseTime(a.time) - parseTime(b.time));\n  }, [timeline, sortMode]);\n\n  function handleAdd(e: FormEvent) {\n    e.preventDefault();\n    if (!title.trim()) return;\n\n    addTimelineItem({\n      time: time.trim(),\n      title: title.trim(),\n      location: location.trim() || undefined,\n      people: people.trim() || undefined,\n      notes: notes.trim() || undefined,\n    });\n\n    setTime(\"\");\n    setTitle(\"\");\n    setLocation(\"\");\n    setPeople(\"\");\n    setNotes(\"\");\n  }\n\n  function friendlyDateLabel() {\n    return settings.weddingDate || \"Wedding day\";\n  }\n\n  return (\n    <div className=\"space-y-5 md:space-y-6\">\n      <section className=\"wedding-card px-4 py-4 md:px-5 md:py-5\">\n        <div className=\"flex flex-col gap-3 md:flex-row md:items-start md:justify-between\">\n          <div>\n            <p className=\"text-xs tracking-[0.2em] uppercase text-sage-dark/70\">\n              Timeline\n            </p>\n            <h2 className=\"mt-1 font-display text-xl text-sage-dark md:text-2xl\">\n              Wedding day schedule\n            </h2>\n            <p className=\"mt-2 max-w-xl text-[0.8rem] text-sage-dark/80\">\n              Plan out your day from getting ready to the last dance. This is\n              where you can see{\" \"}\n              <span className=\"font-medium\">what happens, when, and who</span>{\" \"}\n              is involved.\n            </p>\n          </div>\n          <div className=\"text-right text-[0.8rem] text-sage-dark/80 space-y-1.5\">\n            <p className=\"uppercase tracking-[0.18em] text-sage-dark/70\">\n              Wedding date\n            </p>\n            <p className=\"mt-1 font-display text-base text-sage-dark\">\n              {friendlyDateLabel()}\n            </p>\n            <p className=\"text-[0.7rem]\">\n              Sort by{\" \"}\n              <button\n                type=\"button\"\n                onClick={() =>\n                  setSortMode((prev) => (prev === \"time\" ? \"manual\" : \"time\"))\n                }\n                className=\"underline decoration-dotted underline-offset-4\"\n              >\n                {sortMode === \"time\" ? \"time\" : \"manual order\"}\n              </button>\n            </p>\n            <button\n              type=\"button\"\n              onClick={() => setPrintMode((prev) => !prev)}\n              className=\"inline-flex items-center justify-center rounded-full border border-sage/40 bg-white/80 px-3 py-1.5 text-[0.7rem] uppercase tracking-[0.18em] text-sage-dark shadow-sm transition hover:border-gold\"\n            >\n              {printMode ? \"Exit print view\" : \"Print-friendly view\"}\n            </button>\n          </div>\n        </div>\n\n        {!printMode && (\n          <form\n            onSubmit={handleAdd}\n            className=\"mt-4 grid gap-3 text-[0.8rem] md:grid-cols-[minmax(0,0.7fr),minmax(0,1.4fr)]\"\n          >\n            <div className=\"space-y-2 rounded-lg border border-sage/20 bg-ivory/70 p-3\">\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n                  Time\n                </label>\n                <input\n                  value={time}\n                  onChange={(e) => setTime(e.target.value)}\n                  placeholder=\"e.g. 14:30, After ceremony\"\n                  className=\"w-full rounded-md border border-sage/30 bg-white/80 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none focus:border-gold\"\n                />\n              </div>\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n                  Where\n                </label>\n                <input\n                  value={location}\n                  onChange={(e) => setLocation(e.target.value)}\n                  placeholder=\"Ceremony, church, venue terrace...\"\n                  className=\"w-full rounded-md border border-sage/30 bg-white/80 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none focus:border-gold\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2 rounded-lg border border-sage/20 bg-ivory/70 p-3\">\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n                  What happens\n                </label>\n                <input\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  placeholder=\"Ceremony, First dance, Cake cutting...\"\n                  className=\"w-full rounded-md border border-sage/30 bg-white/80 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none focus:border-gold\"\n                />\n              </div>\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n                  Who is involved\n                </label>\n                <input\n                  value={people}\n                  onChange={(e) => setPeople(e.target.value)}\n                  placeholder=\"E.g. Viktorija & partner, parents, band, photographer\"\n                  className=\"w-full rounded-md border border-sage/30 bg-white/80 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none focus:border-gold\"\n                />\n              </div>\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n                  Notes\n                </label>\n                <textarea\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  rows={2}\n                  placeholder=\"Special songs, reminders, who walks when, speeches...\"\n                  className=\"w-full rounded-md border border-sage/30 bg-white/80 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none focus:border-gold\"\n                />\n              </div>\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"submit\"\n                  className=\"inline-flex items-center justify-center rounded-full border border-gold/70 bg-gradient-to-r from-gold/90 to-gold text-xs font-semibold uppercase tracking-[0.22em] text-white px-4 py-2 shadow-sm transition hover:from-gold hover:to-gold/90 hover:shadow-md\"\n                >\n                  Add to timeline\n                </button>\n              </div>\n            </div>\n          </form>\n        )}\n      </section>\n\n      <section className=\"wedding-card px-4 py-4 md:px-5 md:py-5\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <p className=\"text-xs tracking-[0.2em] uppercase text-sage-dark/70\">\n            Day flow\n          </p>\n          <p className=\"text-[0.75rem] text-sage-dark/75\">\n            You can print this page or screenshot it for your planner,\n            photographer or band.\n          </p>\n        </div>\n\n        {sortedTimeline.length === 0 ? (\n          <p className=\"mt-3 text-[0.8rem] text-sage-dark/75\">\n            Start by adding your first moment above. Examples: &quot;Getting\n            ready&quot;, &quot;Ceremony&quot;, &quot;Photos with family&quot;,\n            &quot;First dance&quot;, &quot;Cake&quot;, &quot;Party&quot;.\n          </p>\n        ) : (\n          <ol className=\"mt-4 space-y-3\">\n            {sortedTimeline.map((item: TimelineItem, index) => (\n              <li\n                key={item.id}\n                className=\"relative rounded-lg border border-sage/25 bg-white/90 px-3 py-3 text-[0.8rem] text-sage-dark shadow-sm\"\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"pt-0.5 text-[0.8rem] font-medium text-sage-dark\">\n                    {item.time || `${index + 1}.`}\n                  </div>\n                  <div className=\"flex-1 space-y-1\">\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <input\n                        value={item.title}\n                        onChange={(e) =>\n                          updateTimelineItem(item.id, {\n                            title: e.target.value,\n                          })\n                        }\n                        className=\"w-full rounded-md border-none bg-transparent px-0 py-0 text-[0.85rem] font-semibold text-sage-dark outline-none\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (\n                            window.confirm(\n                              `Remove \"${item.title || \"this moment\"}\" from the timeline?`\n                            )\n                          ) {\n                            removeTimelineItem(item.id);\n                          }\n                        }}\n                        className=\"text-[0.7rem] text-sage-dark/60 hover:text-[#b54b4b]\"\n                      >\n                        Remove\n                      </button>\n                    </div>\n                    <div className=\"grid gap-2 text-[0.75rem] text-sage-dark/80 md:grid-cols-3\">\n                      <div className=\"space-y-0.5\">\n                        <p className=\"text-[0.65rem] uppercase tracking-[0.16em] text-sage-dark/70\">\n                          Time\n                        </p>\n                        <input\n                          value={item.time}\n                          onChange={(e) =>\n                            updateTimelineItem(item.id, {\n                              time: e.target.value,\n                            })\n                          }\n                          className=\"w-full rounded-md border border-sage/25 bg-white/90 px-2 py-1 text-[0.75rem] text-sage-dark outline-none focus:border-gold\"\n                        />\n                      </div>\n                      <div className=\"space-y-0.5\">\n                        <p className=\"text-[0.65rem] uppercase tracking-[0.16em] text-sage-dark/70\">\n                          Where\n                        </p>\n                        <input\n                          value={item.location ?? \"\"}\n                          onChange={(e) =>\n                            updateTimelineItem(item.id, {\n                              location: e.target.value,\n                            })\n                          }\n                          className=\"w-full rounded-md border border-sage/25 bg-white/90 px-2 py-1 text-[0.75rem] text-sage-dark outline-none focus:border-gold\"\n                        />\n                      </div>\n                      <div className=\"space-y-0.5\">\n                        <p className=\"text-[0.65rem] uppercase tracking-[0.16em] text-sage-dark/70\">\n                          Who\n                        </p>\n                        <input\n                          value={item.people ?? \"\"}\n                          onChange={(e) =>\n                            updateTimelineItem(item.id, {\n                              people: e.target.value,\n                            })\n                          }\n                          className=\"w-full rounded-md border border-sage/25 bg-white/90 px-2 py-1 text-[0.75rem] text-sage-dark outline-none focus:border-gold\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"mt-2 space-y-0.5 text-[0.75rem] text-sage-dark/80\">\n                      <p className=\"text-[0.65rem] uppercase tracking-[0.16em] text-sage-dark/70\">\n                        Notes\n                      </p>\n                      <textarea\n                        value={item.notes ?? \"\"}\n                        onChange={(e) =>\n                          updateTimelineItem(item.id, {\n                            notes: e.target.value,\n                          })\n                        }\n                        rows={2}\n                        className=\"w-full rounded-md border border-sage/25 bg-white/90 px-2 py-1 text-[0.75rem] text-sage-dark outline-none focus:border-gold\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ol>\n        )}\n      </section>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS;IACtB,MAAM,EACJ,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAC7B,eAAe,EACf,kBAAkB,EAClB,kBAAkB,EACnB,GAAG,IAAA,0LAAkB;IAEtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,IAAI,aAAa,UAAU,OAAO;QAClC,gDAAgD;QAChD,MAAM,YAAY,CAAC;YACjB,MAAM,QAAQ,EAAE,KAAK,CAAC;YACtB,IAAI,CAAC,OAAO,OAAO,OAAO,iBAAiB;YAC3C,MAAM,IAAI,OAAO,KAAK,CAAC,EAAE;YACzB,MAAM,IAAI,OAAO,KAAK,CAAC,EAAE;YACzB,OAAO,IAAI,KAAK;QAClB;QACA,OAAO;eAAI;SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,UAAU,EAAE,IAAI,IAAI,UAAU,EAAE,IAAI;IAC1E,GAAG;QAAC;QAAU;KAAS;IAEvB,SAAS,UAAU,CAAY;QAC7B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,gBAAgB;YACd,MAAM,KAAK,IAAI;YACf,OAAO,MAAM,IAAI;YACjB,UAAU,SAAS,IAAI,MAAM;YAC7B,QAAQ,OAAO,IAAI,MAAM;YACzB,OAAO,MAAM,IAAI,MAAM;QACzB;QAEA,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,UAAU;QACV,SAAS;IACX;IAEA,SAAS;QACP,OAAO,SAAS,WAAW,IAAI;IACjC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAuD;;;;;;kDAGpE,8OAAC;wCAAG,WAAU;kDAAuD;;;;;;kDAGrE,8OAAC;wCAAE,WAAU;;4CAAgD;4CAEzC;0DAClB,8OAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAmC;4CAAI;;;;;;;;;;;;;0CAIzE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAgD;;;;;;kDAG7D,8OAAC;wCAAE,WAAU;kDACV;;;;;;kDAEH,8OAAC;wCAAE,WAAU;;4CAAgB;4CACnB;0DACR,8OAAC;gDACC,MAAK;gDACL,SAAS,IACP,YAAY,CAAC,OAAU,SAAS,SAAS,WAAW;gDAEtD,WAAU;0DAET,aAAa,SAAS,SAAS;;;;;;;;;;;;kDAGpC,8OAAC;wCACC,MAAK;wCACL,SAAS,IAAM,aAAa,CAAC,OAAS,CAAC;wCACvC,WAAU;kDAET,YAAY,oBAAoB;;;;;;;;;;;;;;;;;;oBAKtC,CAAC,2BACA,8OAAC;wBACC,UAAU;wBACV,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,WAAU;0DAAoE;;;;;;0DAGrF,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gDACvC,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,WAAU;0DAAoE;;;;;;0DAGrF,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gDAC3C,aAAY;gDACZ,WAAU;;;;;;;;;;;;;;;;;;0CAKhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,WAAU;0DAAoE;;;;;;0DAGrF,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gDACxC,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,WAAU;0DAAoE;;;;;;0DAGrF,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gDACzC,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,WAAU;0DAAoE;;;;;;0DAGrF,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gDACxC,MAAM;gDACN,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASX,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAuD;;;;;;0CAGpE,8OAAC;gCAAE,WAAU;0CAAmC;;;;;;;;;;;;oBAMjD,eAAe,MAAM,KAAK,kBACzB,8OAAC;wBAAE,WAAU;kCAAuC;;;;;6CAMpD,8OAAC;wBAAG,WAAU;kCACX,eAAe,GAAG,CAAC,CAAC,MAAoB,sBACvC,8OAAC;gCAEC,WAAU;0CAEV,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACZ,KAAK,IAAI,IAAI,GAAG,QAAQ,EAAE,CAAC,CAAC;;;;;;sDAE/B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DACC,OAAO,KAAK,KAAK;4DACjB,UAAU,CAAC,IACT,mBAAmB,KAAK,EAAE,EAAE;oEAC1B,OAAO,EAAE,MAAM,CAAC,KAAK;gEACvB;4DAEF,WAAU;;;;;;sEAEZ,8OAAC;4DACC,MAAK;4DACL,SAAS;gEACP,IACE,OAAO,OAAO,CACZ,CAAC,QAAQ,EAAE,KAAK,KAAK,IAAI,cAAc,oBAAoB,CAAC,GAE9D;oEACA,mBAAmB,KAAK,EAAE;gEAC5B;4DACF;4DACA,WAAU;sEACX;;;;;;;;;;;;8DAIH,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAA+D;;;;;;8EAG5E,8OAAC;oEACC,OAAO,KAAK,IAAI;oEAChB,UAAU,CAAC,IACT,mBAAmB,KAAK,EAAE,EAAE;4EAC1B,MAAM,EAAE,MAAM,CAAC,KAAK;wEACtB;oEAEF,WAAU;;;;;;;;;;;;sEAGd,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAA+D;;;;;;8EAG5E,8OAAC;oEACC,OAAO,KAAK,QAAQ,IAAI;oEACxB,UAAU,CAAC,IACT,mBAAmB,KAAK,EAAE,EAAE;4EAC1B,UAAU,EAAE,MAAM,CAAC,KAAK;wEAC1B;oEAEF,WAAU;;;;;;;;;;;;sEAGd,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAA+D;;;;;;8EAG5E,8OAAC;oEACC,OAAO,KAAK,MAAM,IAAI;oEACtB,UAAU,CAAC,IACT,mBAAmB,KAAK,EAAE,EAAE;4EAC1B,QAAQ,EAAE,MAAM,CAAC,KAAK;wEACxB;oEAEF,WAAU;;;;;;;;;;;;;;;;;;8DAIhB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAA+D;;;;;;sEAG5E,8OAAC;4DACC,OAAO,KAAK,KAAK,IAAI;4DACrB,UAAU,CAAC,IACT,mBAAmB,KAAK,EAAE,EAAE;oEAC1B,OAAO,EAAE,MAAM,CAAC,KAAK;gEACvB;4DAEF,MAAM;4DACN,WAAU;;;;;;;;;;;;;;;;;;;;;;;;+BA1Fb,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AAsG5B"}}]
}