{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///media/viktorija/NEW_1Tb14/Projects/viktorija/wedding-planer/src/app/seating/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, useMemo, useState } from \"react\";\nimport {\n  Guest,\n  useWeddingTemplate,\n} from \"@/components/wedding-template/WeddingTemplateProvider\";\n\ntype DragData = {\n  guestId: string;\n};\n\nfunction getInitials(name: string): string {\n  const parts = name.trim().split(/\\s+/);\n  if (parts.length === 0) return \"\";\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\n  return (parts[0][0] + parts[1][0]).toUpperCase();\n}\n\nfunction seatPosition(index: number, total: number) {\n  const radius = 130;\n  const angle = (index / total) * Math.PI * 2 - Math.PI / 2;\n  const x = radius * Math.cos(angle);\n  const y = radius * Math.sin(angle);\n  const center = 140;\n  return {\n    left: `${center + x - 22}px`,\n    top: `${center + y - 22}px`,\n  };\n}\n\nexport default function SeatingPage() {\n  const {\n    state: { guests, tables },\n    addTable,\n    updateTable,\n    removeTable,\n    assignSeat,\n    clearSeat,\n  } = useWeddingTemplate();\n\n  const [tableName, setTableName] = useState(\"\");\n  const [capacity, setCapacity] = useState(10);\n\n  const [draggingGuestId, setDraggingGuestId] = useState<string | null>(null);\n  const [dropTarget, setDropTarget] = useState<{\n    tableId: string;\n    seatIndex: number;\n  } | null>(null);\n\n  // Carousel state\n  const [currentTableIndex, setCurrentTableIndex] = useState(0);\n\n  // Search & filter state\n  const [search, setSearch] = useState(\"\");\n  const [filterGroup, setFilterGroup] = useState(\"all\");\n\n  const unassignedGuests = useMemo(\n    () =>\n      guests.filter(\n        (g) => g.tableId == null || g.seatIndex == null\n      ) as Guest[],\n    [guests]\n  );\n\n  // Filtered unassigned guests (search + group)\n  const filteredUnassigned = useMemo(() => {\n    return unassignedGuests.filter((g) => {\n      if (search.trim()) {\n        const q = search.toLowerCase();\n        if (!g.name.toLowerCase().includes(q)) return false;\n      }\n      if (filterGroup !== \"all\") {\n        if ((g.group || \"\").toLowerCase() !== filterGroup.toLowerCase())\n          return false;\n      }\n      return true;\n    });\n  }, [unassignedGuests, search, filterGroup]);\n\n  // Available groups from all guests (for filter dropdown)\n  const availableGroups = useMemo(() => {\n    const groups = new Set<string>();\n    guests.forEach((g) => {\n      if (g.group) groups.add(g.group);\n    });\n    return Array.from(groups).sort();\n  }, [guests]);\n\n  const byTable = useMemo(() => {\n    const map = new Map<string, Guest[]>();\n    tables.forEach((t) => {\n      map.set(t.id, []);\n    });\n    guests.forEach((g) => {\n      if (g.tableId && g.seatIndex != null && map.has(g.tableId)) {\n        map.get(g.tableId)!.push(g);\n      }\n    });\n    return map;\n  }, [guests, tables]);\n\n  const totals = useMemo(\n    () => ({\n      tables: tables.length,\n      seated: guests.filter(\n        (g) => g.tableId && g.seatIndex != null\n      ).length,\n      totalGuests: guests.length,\n    }),\n    [guests, tables]\n  );\n\n  // Keep carousel index in bounds\n  const safeTableIndex = tables.length === 0 ? -1 : Math.min(currentTableIndex, tables.length - 1);\n  const currentTable = safeTableIndex >= 0 ? tables[safeTableIndex] : null;\n\n  function handleAddTable(e: FormEvent) {\n    e.preventDefault();\n    const name = tableName.trim();\n    const safeCapacity = Math.min(12, Math.max(4, capacity || 10));\n    addTable({\n      name: name || `Table ${tables.length + 1}`,\n      capacity: safeCapacity,\n      notes: \"\",\n    });\n    setTableName(\"\");\n    setCapacity(10);\n    // Navigate to the newly added table\n    setCurrentTableIndex(tables.length);\n  }\n\n  function handleDragStart(guestId: string, e: React.DragEvent<HTMLDivElement>) {\n    const data: DragData = { guestId };\n    e.dataTransfer.setData(\"application/json\", JSON.stringify(data));\n    e.dataTransfer.effectAllowed = \"move\";\n    setDraggingGuestId(guestId);\n  }\n\n  function readDragData(e: React.DragEvent<HTMLDivElement>): DragData | null {\n    try {\n      const raw = e.dataTransfer.getData(\"application/json\");\n      if (!raw) return null;\n      return JSON.parse(raw) as DragData;\n    } catch {\n      return null;\n    }\n  }\n\n  function handleSeatDrop(\n    tableId: string,\n    seatIndex: number,\n    e: React.DragEvent<HTMLDivElement>\n  ) {\n    e.preventDefault();\n    const data = readDragData(e);\n    if (!data) return;\n    assignSeat(data.guestId, tableId, seatIndex);\n    setDraggingGuestId(null);\n    setDropTarget(null);\n  }\n\n  function handleSeatClick(tableId: string, seatIndex: number) {\n    const occupant = guests.find(\n      (g) => g.tableId === tableId && g.seatIndex === seatIndex\n    );\n    if (!occupant) return;\n    if (\n      window.confirm(\n        `Remove ${occupant.name} from this seat (they will go back to the unassigned list)?`\n      )\n    ) {\n      clearSeat(occupant.id);\n    }\n  }\n\n  return (\n    <div className=\"space-y-5 md:space-y-6\">\n      <section className=\"wedding-card px-4 py-4 md:px-5 md:py-5\">\n        <div className=\"flex flex-col gap-3 md:flex-row md:items-start md:justify-between\">\n          <div>\n            <p className=\"text-xs tracking-[0.2em] uppercase text-sage-dark/70\">\n              Seating\n            </p>\n            <h2 className=\"mt-1 font-display text-xl text-sage-dark md:text-2xl\">\n              Round tables layout\n            </h2>\n            <p className=\"mt-2 max-w-xl text-[0.8rem] text-sage-dark/80\">\n              Drag guests from the list onto the little chairs around each\n              table. Use the arrows to navigate between tables.\n            </p>\n          </div>\n          <dl className=\"grid grid-cols-3 gap-2 text-[0.7rem] text-sage-dark/80 md:text-right\">\n            <div>\n              <dt className=\"uppercase tracking-[0.18em]\">Tables</dt>\n              <dd className=\"mt-1 font-display text-lg text-sage-dark\">\n                {totals.tables}\n              </dd>\n            </div>\n            <div>\n              <dt className=\"uppercase tracking-[0.18em]\">Seated</dt>\n              <dd className=\"mt-1\">\n                {totals.seated} / {totals.totalGuests}\n              </dd>\n            </div>\n            <div>\n              <dt className=\"uppercase tracking-[0.18em]\">Unassigned</dt>\n              <dd className=\"mt-1\">\n                {unassignedGuests.length}/{totals.totalGuests}\n              </dd>\n            </div>\n          </dl>\n        </div>\n\n        <form\n          onSubmit={handleAddTable}\n          className=\"mt-4 grid gap-3 text-[0.8rem] md:grid-cols-[minmax(0,1.6fr),minmax(0,1fr),auto]\"\n        >\n          <div className=\"space-y-1.5\">\n            <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n              Table name\n            </label>\n            <input\n              value={tableName}\n              onChange={(e) => setTableName(e.target.value)}\n              placeholder={`e.g. V & T's Family, Friends 1`}\n              className=\"w-full rounded-md border border-sage/30 bg-ivory/70 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none ring-0 focus:border-gold focus:bg-white\"\n            />\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-xs font-medium uppercase tracking-[0.18em] text-sage-dark/80\">\n              Seats (4â€“12)\n            </label>\n            <input\n              type=\"number\"\n              min={4}\n              max={12}\n              value={capacity}\n              onChange={(e) => setCapacity(Number(e.target.value) || 10)}\n              className=\"w-24 rounded-md border border-sage/30 bg-ivory/70 px-3 py-2 text-[0.8rem] text-sage-dark shadow-sm outline-none ring-0 focus:border-gold focus:bg-white\"\n            />\n          </div>\n          <div className=\"flex items-end\">\n            <button\n              type=\"submit\"\n              className=\"inline-flex items-center justify-center rounded-full border border-gold/70 bg-gradient-to-r from-gold/90 to-gold text-xs font-semibold uppercase tracking-[0.22em] text-white px-4 py-2 shadow-sm transition hover:from-gold hover:to-gold/90 hover:shadow-md\"\n            >\n              Add table\n            </button>\n          </div>\n        </form>\n      </section>\n\n      <section className=\"grid gap-4 md:grid-cols-[minmax(0,1fr),minmax(0,1.4fr)] md:gap-5\">\n        {/* Unassigned guests panel */}\n        <div className=\"wedding-card px-4 py-4 md:px-5 md:py-5\">\n          <div className=\"flex items-center justify-between gap-2\">\n            <p className=\"text-xs tracking-[0.2em] uppercase text-sage-dark/70\">\n              Unassigned guests\n            </p>\n            <span className=\"wedding-pill bg-ivory/80 text-sage-dark/85\">\n              Drag onto a seat\n            </span>\n          </div>\n\n          {/* Search & filter */}\n          <div className=\"mt-3 flex gap-2\">\n            <input\n              type=\"text\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search guests...\"\n              className=\"min-w-0 flex-1 rounded-md border border-sage/30 bg-ivory/70 px-3 py-1.5 text-[0.8rem] text-sage-dark shadow-sm outline-none ring-0 focus:border-gold focus:bg-white\"\n            />\n            <select\n              value={filterGroup}\n              onChange={(e) => setFilterGroup(e.target.value)}\n              className=\"rounded-md border border-sage/30 bg-ivory/70 px-2 py-1.5 text-[0.75rem] text-sage-dark shadow-sm outline-none ring-0 focus:border-gold focus:bg-white\"\n            >\n              <option value=\"all\">All groups</option>\n              {availableGroups.map((group) => (\n                <option key={group} value={group}>\n                  {group}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"mt-3 max-h-72 space-y-2 overflow-y-auto pr-1 scroll-fade\">\n            {filteredUnassigned.length === 0 ? (\n              <p className=\"text-[0.8rem] text-sage-dark/70\">\n                {unassignedGuests.length === 0\n                  ? \"Everyone is seated already. You can click a seat to remove someone back to this list.\"\n                  : \"No guests match your search.\"}\n              </p>\n            ) : (\n              filteredUnassigned.map((g) => (\n                <div\n                  key={g.id}\n                  className=\"guest-chip guest-chip-unassigned justify-between\"\n                  draggable\n                  onDragStart={(e) => handleDragStart(g.id, e)}\n                  onDragEnd={() => {\n                    setDraggingGuestId((current) =>\n                      current === g.id ? null : current\n                    );\n                    setDropTarget(null);\n                  }}\n                >\n                  <span className=\"guest-chip-small-tag\">\n                    {getInitials(g.name)}\n                  </span>\n                  <span>{g.name}</span>\n                  {g.side && (\n                    <span className=\"guest-chip-small-tag\">\n                      {g.side === \"bride\"\n                        ? \"Bride\"\n                        : g.side === \"groom\"\n                        ? \"Partner\"\n                        : \"Both\"}\n                    </span>\n                  )}\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Table carousel panel */}\n        <div className=\"wedding-card px-4 py-4 md:px-5 md:py-5\">\n          <div className=\"flex items-center justify-between gap-2\">\n            <p className=\"text-xs tracking-[0.2em] uppercase text-sage-dark/70\">\n              Tables\n            </p>\n            <span className=\"wedding-pill bg-ivory/80 text-sage-dark/85\">\n              Click guest to unseat\n            </span>\n          </div>\n\n          {tables.length === 0 ? (\n            <p className=\"mt-3 text-[0.8rem] text-sage-dark/75\">\n              Start by adding your first table above. A good starting point is\n              10 guests per table, and you can gently adjust later.\n            </p>\n          ) : currentTable ? (\n            <div className=\"mt-4\">\n              {/* Carousel navigation */}\n              <div className=\"seating-carousel-nav\">\n                <button\n                  type=\"button\"\n                  disabled={safeTableIndex <= 0}\n                  onClick={() => setCurrentTableIndex((i) => Math.max(0, i - 1))}\n                  className=\"seating-carousel-arrow\"\n                  aria-label=\"Previous table\"\n                >\n                  &#8249;\n                </button>\n\n                <span className=\"seating-carousel-counter\">\n                  {safeTableIndex + 1} / {tables.length}\n                </span>\n\n                <button\n                  type=\"button\"\n                  disabled={safeTableIndex >= tables.length - 1}\n                  onClick={() =>\n                    setCurrentTableIndex((i) =>\n                      Math.min(tables.length - 1, i + 1)\n                    )\n                  }\n                  className=\"seating-carousel-arrow\"\n                  aria-label=\"Next table\"\n                >\n                  &#8250;\n                </button>\n              </div>\n\n              {/* Single table view */}\n              {(() => {\n                const table = currentTable;\n                const seatedHere = byTable.get(table.id) ?? [];\n\n                return (\n                  <div className=\"seating-table-single\">\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <div className=\"min-w-0\">\n                        <input\n                          value={table.name}\n                          onChange={(e) =>\n                            updateTable(table.id, { name: e.target.value })\n                          }\n                          className=\"w-full rounded-md border-none bg-transparent px-0 py-0 text-[0.95rem] font-semibold text-sage-dark outline-none\"\n                        />\n                        <p className=\"mt-0.5 text-[0.75rem] text-sage-dark/70\">\n                          {seatedHere.length}/{table.capacity} seats filled\n                        </p>\n                      </div>\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (\n                            window.confirm(\n                              `Remove ${table.name}? Guests will move back to the unassigned list.`\n                            )\n                          ) {\n                            removeTable(table.id);\n                            setCurrentTableIndex((i) =>\n                              Math.max(0, Math.min(i, tables.length - 2))\n                            );\n                          }\n                        }}\n                        className=\"text-[0.7rem] text-sage-dark/55 hover:text-[#b54b4b]\"\n                      >\n                        Remove\n                      </button>\n                    </div>\n\n                    <div className=\"seating-table-circle-large mt-4\">\n                      {Array.from({ length: table.capacity }).map((_, i) => {\n                        const seatGuest = guests.find(\n                          (g) => g.tableId === table.id && g.seatIndex === i\n                        );\n                        const isDropTarget =\n                          dropTarget &&\n                          dropTarget.tableId === table.id &&\n                          dropTarget.seatIndex === i;\n\n                        const style = seatPosition(i, table.capacity);\n\n                        return (\n                          <div\n                            key={i}\n                            className={[\n                              \"seating-seat seating-seat-large\",\n                              seatGuest ? \"occupied\" : \"empty\",\n                              isDropTarget ? \"seating-seat-drop-target\" : \"\",\n                            ]\n                              .filter(Boolean)\n                              .join(\" \")}\n                            style={style}\n                            onClick={() =>\n                              seatGuest &&\n                              handleSeatClick(table.id, i)\n                            }\n                            onDragOver={(e) => {\n                              if (!draggingGuestId) return;\n                              e.preventDefault();\n                              e.dataTransfer.dropEffect = \"move\";\n                              setDropTarget({ tableId: table.id, seatIndex: i });\n                            }}\n                            onDragLeave={(e) => {\n                              e.preventDefault();\n                              setDropTarget((current) =>\n                                current &&\n                                current.tableId === table.id &&\n                                current.seatIndex === i\n                                  ? null\n                                  : current\n                              );\n                            }}\n                            onDrop={(e) =>\n                              handleSeatDrop(table.id, i, e)\n                            }\n                          >\n                            {seatGuest ? (\n                              <span title={seatGuest.name}>\n                                {getInitials(seatGuest.name)}\n                              </span>\n                            ) : (\n                              <span className=\"text-[0.65rem]\">\n                                {i + 1}\n                              </span>\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n\n                    {/* Seated guests list under the table */}\n                    {seatedHere.length > 0 && (\n                      <div className=\"mt-4 flex flex-wrap gap-1.5 justify-center\">\n                        {seatedHere\n                          .sort((a, b) => (a.seatIndex ?? 0) - (b.seatIndex ?? 0))\n                          .map((g) => (\n                            <span\n                              key={g.id}\n                              className=\"text-[0.7rem] text-sage-dark/75 bg-ivory/80 rounded-full px-2 py-0.5 border border-sage/20\"\n                            >\n                              {(g.seatIndex ?? 0) + 1}. {g.name}\n                            </span>\n                          ))}\n                      </div>\n                    )}\n                  </div>\n                );\n              })()}\n            </div>\n          ) : null}\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}